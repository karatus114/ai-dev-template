TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

## é‡è¦

**å®Ÿè£…ã¯æ›¸ã‹ãšã«ã€ãƒ†ã‚¹ãƒˆã®ã¿ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚**

## æ‰‹é †

### 1. è¦ä»¶ã‚’ç¢ºèªã™ã‚‹

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã‹ï¼ˆæ©Ÿèƒ½ã€APIã€é–¢æ•°ç­‰ï¼‰
- å…¥åŠ›ã¯ä½•ã‹
- æœŸå¾…ã•ã‚Œã‚‹å‡ºåŠ›ã¯ä½•ã‹
- ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã¯ä½•ã‹

### 2. ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚’æ´—ã„å‡ºã™

docs/TESTING.md ã«å¾“ã£ã¦ã€ä»¥ä¸‹ã®è¦³ç‚¹ã‚’æ´—ã„å‡ºã—ã¦ãã ã•ã„ï¼š

#### å¿…é ˆè¦³ç‚¹

- **æ­£å¸¸ç³»**: æœŸå¾…é€šã‚Šã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª
- **ç•°å¸¸ç³»**: ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
- **å¢ƒç•Œå€¤**: å¢ƒç•Œå€¤ã§ã®å‹•ä½œã‚’ç¢ºèª

#### æ©Ÿèƒ½åˆ¥ã®è¿½åŠ è¦³ç‚¹

**èªè¨¼æ©Ÿèƒ½ã®å ´åˆ**:
- [ ] æ­£ã—ã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ãã‚‹
- [ ] èª¤ã£ãŸãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„
- [ ] å­˜åœ¨ã—ãªã„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãƒ­ã‚°ã‚¤ãƒ³ã§ããªã„
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã¦ã„ã‚‹
- [ ] JWTãƒˆãƒ¼ã‚¯ãƒ³ãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹

**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œã®å ´åˆ**:
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãä½œæˆã•ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå–å¾—ã•ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãæ›´æ–°ã•ã‚Œã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãŒæ­£ã—ãå‰Šé™¤ã•ã‚Œã‚‹ï¼ˆè«–ç†å‰Šé™¤ï¼‰
- [ ] å­˜åœ¨ã—ãªã„IDã§å–å¾—ã—ãŸå ´åˆã€nullã¾ãŸã¯ã‚¨ãƒ©ãƒ¼

**APIã®å ´åˆ**:
- [ ] æ­£ã—ã„ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§200/201ãŒè¿”ã‚‹
- [ ] ä¸æ­£ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã§400ãŒè¿”ã‚‹
- [ ] èªè¨¼ãªã—ã§401ãŒè¿”ã‚‹
- [ ] æ¨©é™ãªã—ã§403ãŒè¿”ã‚‹
- [ ] å­˜åœ¨ã—ãªã„ãƒªã‚½ãƒ¼ã‚¹ã§404ãŒè¿”ã‚‹
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ãŒæ­£ã—ã„

**ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã®å ´åˆ**:
- [ ] è¨±å¯ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹
- [ ] è¨±å¯ã•ã‚Œã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã¯ã‚¨ãƒ©ãƒ¼
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™ãŒæ©Ÿèƒ½ã™ã‚‹

### 3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã™ã‚‹

æ´—ã„å‡ºã—ãŸãƒ†ã‚¹ãƒˆè¦³ç‚¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«æç¤ºã—ã€ç¢ºèªã—ã¦ãã ã•ã„ã€‚

**ä¾‹**:
```
ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆè¦³ç‚¹ã§ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ

ã€æ­£å¸¸ç³»ã€‘
- æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹
- ä½œæˆã•ã‚ŒãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã¦ã„ã‚‹

ã€ç•°å¸¸ç³»ã€‘
- ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹
- æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ConflictErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒ8æ–‡å­—æœªæº€ã§ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹

ã€å¢ƒç•Œå€¤ã€‘
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ç¢ºã«8æ–‡å­—ã®å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒ7æ–‡å­—ã®å ´åˆã€ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹
```

### 4. ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã™ã‚‹

AGENTS.md ã‹ã‚‰æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã‚’ç¢ºèªã—ã€é©åˆ‡ãªãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

#### TypeScript / JavaScriptï¼ˆJest / Vitestï¼‰

```typescript
import { describe, it, expect, beforeEach } from '@jest/globals';
import { UserService } from '@/services/UserService';
import { ValidationError, ConflictError } from '@/errors';

describe('UserService', () => {
  let userService: UserService;

  beforeEach(() => {
    userService = new UserService();
  });

  describe('create', () => {
    describe('æ­£å¸¸ç³»', () => {
      it('æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'test@example.com',
          password: 'Password123',
        };

        const user = await userService.create(userData);

        expect(user.id).toBeDefined();
        expect(user.email).toBe('test@example.com');
        expect(user.password).not.toBe('Password123'); // ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã‚‹
      });

      it('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'test@example.com',
          password: 'Password123',
        };

        const user = await userService.create(userData);

        expect(user.password).not.toBe('Password123');
        expect(user.password.length).toBeGreaterThan(20); // bcryptãƒãƒƒã‚·ãƒ¥ã¯60æ–‡å­—
      });
    });

    describe('ç•°å¸¸ç³»', () => {
      it('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'invalid-email',
          password: 'Password123',
        };

        await expect(userService.create(userData)).rejects.toThrow(ValidationError);
      });

      it('æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ConflictErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'existing@example.com',
          password: 'Password123',
        };

        // äº‹å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
        await userService.create(userData);

        // åŒã˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§å†åº¦ä½œæˆ
        await expect(userService.create(userData)).rejects.toThrow(ConflictError);
      });

      it('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒ8æ–‡å­—æœªæº€ã§ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'test@example.com',
          password: 'Pass12', // 6æ–‡å­—
        };

        await expect(userService.create(userData)).rejects.toThrow(ValidationError);
      });
    });

    describe('å¢ƒç•Œå€¤', () => {
      it('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ç¢ºã«8æ–‡å­—ã®å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'test@example.com',
          password: 'Pass123!', // 8æ–‡å­—
        };

        const user = await userService.create(userData);

        expect(user).toBeDefined();
      });

      it('ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒ7æ–‡å­—ã®å ´åˆã€ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹', async () => {
        const userData = {
          email: 'test@example.com',
          password: 'Pass12!', // 7æ–‡å­—
        };

        await expect(userService.create(userData)).rejects.toThrow(ValidationError);
      });
    });
  });
});
```

#### Pythonï¼ˆpytestï¼‰

```python
import pytest
from app.services.user_service import UserService
from app.errors import ValidationError, ConflictError

class TestUserService:
    @pytest.fixture
    def user_service(self):
        return UserService()

    class TestCreate:
        class TestNormalCase:
            def test_create_user_with_valid_data(self, user_service):
                """æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'test@example.com',
                    'password': 'Password123',
                }

                user = user_service.create(user_data)

                assert user.id is not None
                assert user.email == 'test@example.com'
                assert user.password != 'Password123'  # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã‚‹

            def test_password_is_hashed(self, user_service):
                """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒãƒãƒƒã‚·ãƒ¥åŒ–ã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'test@example.com',
                    'password': 'Password123',
                }

                user = user_service.create(user_data)

                assert user.password != 'Password123'
                assert len(user.password) > 20  # bcryptãƒãƒƒã‚·ãƒ¥ã¯60æ–‡å­—

        class TestAbnormalCase:
            def test_invalid_email_raises_validation_error(self, user_service):
                """ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'invalid-email',
                    'password': 'Password123',
                }

                with pytest.raises(ValidationError):
                    user_service.create(user_data)

            def test_existing_email_raises_conflict_error(self, user_service):
                """æ—¢ã«å­˜åœ¨ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ConflictErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'existing@example.com',
                    'password': 'Password123',
                }

                # äº‹å‰ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½œæˆ
                user_service.create(user_data)

                # åŒã˜ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§å†åº¦ä½œæˆ
                with pytest.raises(ConflictError):
                    user_service.create(user_data)

        class TestBoundaryValue:
            def test_password_with_exactly_8_characters(self, user_service):
                """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ç¢ºã«8æ–‡å­—ã®å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½œæˆã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'test@example.com',
                    'password': 'Pass123!',  # 8æ–‡å­—
                }

                user = user_service.create(user_data)

                assert user is not None

            def test_password_with_7_characters_raises_error(self, user_service):
                """ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒ7æ–‡å­—ã®å ´åˆã€ValidationErrorãŒã‚¹ãƒ­ãƒ¼ã•ã‚Œã‚‹"""
                user_data = {
                    'email': 'test@example.com',
                    'password': 'Pass12!',  # 7æ–‡å­—
                }

                with pytest.raises(ValidationError):
                    user_service.create(user_data)
```

## å‡ºåŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

ãƒ†ã‚¹ãƒˆä½œæˆå®Œäº†å¾Œã€ä»¥ä¸‹ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„ï¼š

```
âœ… ãƒ†ã‚¹ãƒˆã®ä½œæˆãŒå®Œäº†ã—ã¾ã—ãŸï¼

ğŸ“ ä½œæˆã•ã‚ŒãŸãƒ†ã‚¹ãƒˆ:
- [ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹]

ğŸ§ª ãƒ†ã‚¹ãƒˆè¦³ç‚¹:
- æ­£å¸¸ç³»: Xä»¶
- ç•°å¸¸ç³»: Yä»¶
- å¢ƒç•Œå€¤: Zä»¶

ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã€å¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„
   \`\`\`bash
   npm test  # ã¾ãŸã¯ pytest
   \`\`\`

2. ãƒ†ã‚¹ãƒˆã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãã ã•ã„
   \`\`\`
   /commit
   \`\`\`

3. å®Ÿè£…ã‚’ä½œæˆã—ã¦ãã ã•ã„
   \`\`\`
   /implement-for-test
   \`\`\`
```

## æ³¨æ„

- **å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã¯ä¸€åˆ‡æ›¸ã‹ãªã„ã§ãã ã•ã„**
- ãƒ†ã‚¹ãƒˆã®ã¿ã‚’ä½œæˆã—ã¦ãã ã•ã„
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå¾Œã€å¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼ˆRedï¼‰
- docs/TESTING.md ã‚’å‚ç…§ã—ã¦ã€é©åˆ‡ãªãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„
